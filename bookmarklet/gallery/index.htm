<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <title id='title1'>Tribe Factory</title>
        <link rel="stylesheet" href="https://tribefactory.netlify.app/css/tf_base2.css">
        <link rel="apple-touch-icon" sizes="76x76" href="https://tribefactory.netlify.app/favicon/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="https://tribefactory.netlify.app/favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="https://tribefactory.netlify.app/favicon/favicon-16x16.png">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <header id="header_container"></header>
        <div class="main-content">
            <main class="content-sidebar" id="sidebar_container"></main>


<aside class="content-main">
<h3>広告ブロック</h3>
<a href="javascript:(function(){document.querySelectorAll('ytd-rich-item-renderer').forEach(e=>{if(e.querySelector('ytd-ad-slot-renderer'))e.style.display='none'});const v=document.getElementsByTagName('video')[0];if(v){v.style.width='95%';v.volume='0.2';}const a=['id','class'];const n=['ad','Ad','ytp','google_ad','video-stream','player-ads','gn_delivery','CommentPanelBannerAd','AD','zuck','sponsor_side_body','yrl'];for(let i=0;i<a.length;i++){for(let j=0;j<n.length;j++){document.querySelectorAll('['+a[i]+'^='+n[j]+']').forEach(function(it){it.style.cssText='display:none!important'});};};const s=['imageaws.popin.cc','lmadps.jp','i-mobile.co.jp','jp1media.com','abc.com','im.c.yimg.jp','yads.c.yimg.jp','bance.jp'];const r='1';const rS=(p,r)=>{const b=document.body;const els=b.querySelectorAll('[src]');els.forEach(el=>{const an='src';let av=el.getAttribute(an);if(av){p.forEach(ptn=>{const regex=new RegExp(ptn.replace(/[.*+?^${}()|[\]\\]/g,'\\$&'),'g');av=av.replace(regex,r+ptn);});el.setAttribute(an,av);}});};rS(s,r);void(['TBP','GDN','REALTIME','STREAMAD1','yjnSub']).forEach(id=>{const el=document.getElementById(id);if(el){el.style.cssText='display:none!important'}});})();" >add_blk</a><br />
Webページを表示した後　実行すると大概の広告を非表示にする。<br />

<pre>
<code>
javascript:(function(){
    document.querySelectorAll('ytd-rich-item-renderer').forEach(e => {
        if (e.querySelector('ytd-ad-slot-renderer')) {
            e.style.display = 'none';
        }
    });

    const v = document.getElementsByTagName('video')[0];
    if (v) {
        v.style.width = '95%';
        v.volume = '0.2';
    }

    const a = ['id', 'class'];
    const n = ['ad', 'Ad', 'ytp', 'google_ad', 'video-stream', 'player-ads', 'gn_delivery', 'CommentPanelBannerAd', 'AD', 'zuck', 'sponsor_side_body', 'yrl'];
    for (let i = 0; i < a.length; i++) {
        for (let j = 0; j < n.length; j++) {
            document.querySelectorAll('[' + a[i] + '^=' + n[j] + ']').forEach(function(it) {
                it.style.cssText = 'display:none!important';
            });
        }
    }

    const s = ['imageaws.popin.cc', 'lmadps.jp', 'i-mobile.co.jp', 'jp1media.com', 'abc.com', 'im.c.yimg.jp', 'yads.c.yimg.jp', 'bance.jp'];
    const r = '1';
    const rS = (p, r) => {
        const b = document.body;
        const els = b.querySelectorAll('[src]');
        els.forEach(el => {
            const an = 'src';
            let av = el.getAttribute(an);
            if (av) {
                p.forEach(ptn => {
                    const regex = new RegExp(ptn.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
                    av = av.replace(regex, r + ptn);
                });
                el.setAttribute(an, av);
            }
        });
    };
    rS(s, r);

    void(['TBP', 'GDN', 'REALTIME', 'STREAMAD1', 'yjnSub']).forEach(id => {
        const el = document.getElementById(id);
        if (el) {
            el.style.cssText = 'display:none!important';
        }
    });
})();
</code>
</pre>

  <!-- ******************************************* -->
<h3>Google Photo 共有url取得</h3>
GooglePhotoで写真を右クリックして新しいタブで開いて実行すると共有用urlが取得できる<br />
<a href="javascript:(function(){const domain='lh3.googleusercontent.com';const imgs=document.querySelectorAll('img[src*=&quot;' + domain + '&quot;]');if(imgs.length<2){return;}let url=imgs[1].src;const queryIndex=url.indexOf('?');if(queryIndex!==-1){url=url.substring(0,queryIndex);}const splitIndex=url.lastIndexOf('=');if(splitIndex===-1){return;}const baseUrl=url.substring(0,splitIndex);const finalUrl=baseUrl+'=w380';navigator.clipboard.writeText(finalUrl).then(()=>{alert('Copied');},(err)=>{alert('Failed: '+err);});})();">get_photo_url</a>
<pre>
    <code>
        javascript:(function(){
            const domain='lh3.googleusercontent.com';
            const imgs=document.querySelectorAll(`img[src*="${domain}"]`);
            if(imgs.length<2){return;}
            let url=imgs[1].src;
            const queryIndex=url.indexOf('?');
            if(queryIndex!==-1){
                url=url.substring(0,queryIndex);
            }
            const splitIndex=url.lastIndexOf('=');
            if(splitIndex===-1){return;}
            const baseUrl=url.substring(0,splitIndex);
            const finalUrl=baseUrl+'=w380';
            navigator.clipboard.writeText(finalUrl).then(()=>{
                alert('Copied');
            },(err)=>{
                alert('Failed: '+err);
            });
        })();        
    </code>
</pre>
</aside>

    
        </div>
        <footer id="footer-container"></footer>
        <script src="https://tribefactory.netlify.app/js/navi/header.js"></script>
        <script src="https://tribefactory.netlify.app/js/navi/sidebar.js"></script>
        <script src="https://tribefactory.netlify.app/js/navi/footer.js"></script>
    </body>
</html>

