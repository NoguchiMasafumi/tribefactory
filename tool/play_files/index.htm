<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">

    <title id='title1'>Tribe Factory</title>

    <link rel="stylesheet" href="https://tribefactory.netlify.app/css/tf_base2.css">

    <link rel="apple-touch-icon" sizes="76x76" href="https://tribefactory.netlify.app/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://tribefactory.netlify.app/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://tribefactory.netlify.app/favicon/favicon-16x16.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        .flt_lef{float:left;}
        .tex_rig{text-align:right;}
        .mar_r30{margin-right:30px;}
        .tbl_td_fnt_s12 td{font-size:12px;}
    </style>
    <script>
        //***************************************//
        function st_sub(){
            document.getElementById('files').addEventListener('change', handleFileSelect, false);
        }
        //*************************************//
        function sleep(second) {
            return new Promise(resolve => {
                setTimeout(() => {
                    resolve()
                }, second * 1000)
            })
        }
        //*************************************//
        async function handleFileSelect(evt){
            var str_music_list=""
            for(int_loop2=0; int_loop2 < evt.target.files.length; int_loop2++){
                auo.src = URL.createObjectURL(this.files[int_loop2]);
                await sleep(0.5)
                int1 = document.getElementById("auo").duration
                await sleep(0.1)
                str_music_list= str_music_list + "<tr><td>" + this.files[int_loop2].name + "</td><td class='tex_rig'>" + int1 + "</td>"
            }
            music_list.innerHTML=str_music_list
            //*//
            for(int_loop1=0; int_loop1<evt.target.files.length;int_loop1++){
                title.textContent=this.files[int_loop1].name
                auo.src = URL.createObjectURL(this.files[int_loop1]);
                await sleep(1)
                int1 = document.getElementById("auo").duration
                await sleep(1)
                auo.play();
                await sleep(int1)
            }
        }
    </script>


</head>
<body onload="st_sub()">
    
    <header>
        <div class="header-inner-upper">
            Tribe Factory<img src="https://tribefactory.netlify.app/img/TF20_min.png" class="h24" alt="Tribe Factory" style="margin-left:5px;">
            <!-- navi -->
            <script src="https://tribefactory.netlify.app/js/navi/navi_menu2.js"></script>
        </div>
        <hr />
    <div class="header-inner-lower">
        トライブファクトリー

    </div>
    </header>

    <div class="main-content">
        <main class="content-sidebar">
            <!-- ad -->
            <script src="https://tribefactory.netlify.app/js/ad/ad_sidebar1.js"></script>

            <!-- navi -->
            <script src="https://tribefactory.netlify.app/js/navi/navi_menu1.js"></script>

            <div id="sitemap-links">
                <p>Loading sitemap...</p>
            </div>
            <script src="https://tribefactory.netlify.app/js/sitemap/sitemap.js"></script>
            <p>左カラムのコンテンツエリア</p>
        </main>


        <aside class="content-main">


<h3>playfiles</h3>
<div class="flt_lef mar_r30">
    <span id="title"></span><br />
    <audio controls id="auo"></audio>
</div>

<div class="flt_lef">
    <input type="file" id="files" class="disp_no" name="files[]" multiple /><br />
    <table id="music_list" class="tbl_td_fnt_s12"></table>
</div>


</aside>




    </div>
    <footer id="footer-container"></footer>
    <script src="https://tribefactory.netlify.app/js/navi/footer.js"></script>
  </body>
</html>
