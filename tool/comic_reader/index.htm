<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">

    <title id='title1'>Tribe Factory</title>

    <link rel="stylesheet" href="https://tribefactory.netlify.app/css/tf_base2.css">

    <link rel="apple-touch-icon" sizes="76x76" href="https://tribefactory.netlify.app/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://tribefactory.netlify.app/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://tribefactory.netlify.app/favicon/favicon-16x16.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
      #image-container {
          text-align: center;
          height: 90vh; /* 画面の高さの90% */
      }
      #image-container img {
          width: 100%; /* 親要素の幅に合わせて表示 */
          height: 100%; /* 親要素の高さに合わせて表示 */
          object-fit: contain; /* 画像を容器内に収める */
          display: none; /* 初期状態で非表示にする */
      }
    </style>
</head>
<body>
    
    <header>
        <div class="header-inner-upper">
            Tribe Factory<img src="https://tribefactory.netlify.app/img/TF20_min.png" class="h24" alt="Tribe Factory" style="margin-left:5px;">
            <!-- navi -->
            <script src="https://tribefactory.netlify.app/js/navi/navi_menu2.js"></script>
        </div>
        <hr />
    <div class="header-inner-lower">
        トライブファクトリー

    </div>
    </header>
<div style="display: flex;">
<input type="file" id="image-input" multiple style="display:inline">　<span id="file-info"></span> <!-- ファイル情報表示用の要素を追加 -->
</div>
<div id="image-container">
<img id="current-image" src="">


    


    <script>
        const imageInput = document.getElementById('image-input');
        const imageContainer = document.getElementById('image-container');
        const currentImage = document.getElementById('current-image');
        const fileInfoSpan = document.getElementById('file-info'); // ファイル情報表示用の要素を取得

        let images = [];
        let currentImageIndex = 0;

        imageInput.addEventListener('change', (event) => {
            images = event.target.files;
            if (images.length > 0) {
                displayImage(0);
            }
        });

        imageContainer.addEventListener('click', (event) => {
            if (event.clientX > imageContainer.clientWidth / 2) {
                // 右クリック
                currentImageIndex = (currentImageIndex + 1) % images.length;
            } else {
                // 左クリック
                currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
            }
            displayImage(currentImageIndex);
        });

        document.addEventListener('keydown', (event) => {
            if (event.key === 'ArrowRight') {
                // 右矢印キー
                currentImageIndex = (currentImageIndex + 1) % images.length;
                displayImage(currentImageIndex);
            } else if (event.key === 'ArrowLeft') {
                // 左矢印キー
                currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
                displayImage(currentImageIndex);
            }
        });

        function displayImage(index) {
            const reader = new FileReader();
            const fileName = images[index].name; // ファイル名を取得
            const fileInfo = `(${index + 1}/${images.length}) ${fileName}`; // ファイル情報を生成
            fileInfoSpan.textContent = fileInfo; // ファイル情報を表示
            reader.onload = (e) => {
                currentImage.src = e.target.result;
                currentImage.style.display = 'block'; // 画像が読み込まれたら表示する
            };
            reader.readAsDataURL(images[index]);
        }
    </script>






    <footer id="footer-container"></footer>
    <script src="https://tribefactory.netlify.app/js/navi/footer.js"></script>
  </body>
</html>
